<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>예약하기 | 조 말론 런던</title>
    <link rel="stylesheet" href="css/headerFooter.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/appointment.css">
    <!--백업 css-->
    <link rel="stylesheet" href="css/backup_1.css">
    <link rel="icon" href="img/header&footer/favicon.ico">
    <!--jQuery-->
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
</head>
<body>
<div id="wrap">
<div id="skipnav" class="hidden">
<ul>
<li><a href="#header">헤더 바로가기</a></li>
<li><a href="#nav">네비게이션 바 바로가기</a></li>
<li><a href="#gnb">유틸리티 바로가기</a></li>
                
<!--섹션-->
<li><a href="#appointment_area"></a>예약하기 바로가기</li>

<li><a href="#footer">푸터 바로가기</a></li>
</ul>
</div>

<header id="header"></header>

<!--섹션-->
<section class="appointment_wrap">
<h2 class="hidden">예약하기</h2>
<ul class="appointment_1" id="appointment_area">
<h4>예약하기</h4>
    <li>
        <form action="">
            <fieldset>
                <legend class="hidden">오프라인 매장 목록</legend>
                <label for="offline-shop-list" class="hidden">매장 선택</label>
                <select name="offline-shop-list" id="offline-shop-list" class="appointment_list" required>
                    <option value="" disabled selected hidden>매장을 선택하세요.</option>
                    <option>서울 | 강남구 | 갤러리아 명품관</option>
                    <option>서울 | 강남구 | 현대 무역</option>
                    <option>서울 | 강동구 | 현대 천호</option>
                    <option>서울 | 노원구 | 롯데 노원</option>
                    <option>서울 | 서대문구 | 현대 신촌</option>
                    <option>서울 | 서초구 | 신세계 강남</option>
                    <option>서울 | 송파구 | 롯데 월드타워</option>
                    <option>서울 | 송파구 | 롯데 잠실</option>
                    <option>서울 | 양천구 | 현대 목동</option>
                    <option>서울 | 영등포구 | 더현대 서울</option>
                    <option>서울 | 영등포구 | 신세계 타임스퀘어</option>
                    <option>서울 | 용산구 | 한남 부티크</option>
                    <option>서울 | 중구 | 롯데 본점</option>
                    <option>서울 | 중구 | 신세계 본점</option>
                    <option>경기 | 고양시 | 현대 킨텍스</option>
                    <option>경기 | 부천시 | 현대 중동</option>
                    <option>경기 | 성남시 | AK 분당</option>
                    <option>경기 | 성남시 | 현대 판교</option>
                    <option>경기 | 수원시 | 갤러리아 광교</option>
                    <option>경기 | 수원시 | 롯데 수원</option>
                    <option>경기 | 수원시 | AK 수원</option>
                    <option>경기 | 안양시 | 롯데 평촌</option>
                    <option>경기 | 용인시 | 신세계 경기</option>
                    <option>경기 | 의정부시 | 신세계 의정부</option>
                    <option>경기 | 하남시 | 신세계 하남</option>
                    <option>경기 | 화성시 | 롯데 백화점 동탄</option>
                    <option>경남 | 창원시 | 롯데 창원</option>
                    <option>광주 | 서구 | 신세계 광주</option>
                    <option>대구 | 동구 | 신세계 대구</option>
                    <option>대구 | 북구 | 롯데 대구</option>
                    <option>대구 | 중구 | 현대 대구</option>
                    <option>대전 | 서구 | 갤러리아 타임월드</option>
                    <option>대전 | 유성구 | 신세계 대전</option>
                    <option>부산 | 부산진구 | 롯데 부산본점</option>
                    <option>부산 | 해운대구 | 신세계 센텀시티</option>
                    <option>울산 | 남구 | 현대 울산</option>
                    <option>인천 | 미추홀구 | 롯데 인천 터미널</option>
                    <option>전남 | 전주시 | 롯데 전주</option>
                    <option>충남 | 천안시 | 갤러리아 센터시티</option>
                </select>
            </fieldset>
        </form>
        <!-- 서비스 선택지 3개 영역 -->
        <div class="appointment_select-container">
            <div class="appointment_choice">
                <img src="img/Service1_cuns.jpg" alt="">
                <h6 class="A_choice_title">나만의 시그니쳐 향 컨설팅</h6>
                <p class="A_choice_text">조 말론 런던의 스타일리스트에게 당신의 데일리 루틴을 말씀해 주세요. 당신에게 맞는 완벽한 향을 찾고 센트 레이어링을 경험하실 수 있습니다.</p>
                <p class="A_choice_time">10분 / 무료</p>
            </div>
            <div class="appointment_choice">
                <img src="img/Service2_Massage.jpg" alt="">
                <h6 class="A_choice_title">핸드 앤 암 마사지 서비스</h6>
                <p class="A_choice_text">향기로운 편안한 마사지 경험을 제공하고 당신의 데일리 루틴에 맞는 맞춤 향을 찾아 드립니다.</p>
                <p class="A_choice_time">20분 / 무료</p>
            </div>
            <div class="appointment_choice">
                <img src="img/Service3_perf.jpg" alt="">
                <h6 class="A_choice_title">완벽한 선물을 위한 컨설팅</h6>
                <p class="A_choice_text">소중한 분을 위한 완벽한 맞춤형 선물을 제안하고 퍼스널라이제이션 옵션을 소개해 드립니다.</p>
                <p class="A_choice_time">10분 / 무료</p>
            </div>
        </div>
    </li>
    <li>
        <div id="calendar-wrapper">
            <div>
                <div id="calendar-header">
                    <button id="prev-month">◀</button>
                    <span id="current-month"></span>
                    <button id="next-month">▶</button>
                </div>
                <table id="calendar">
                    <thead>
                        <tr>
                            <th>일</th>
                            <th>월</th>
                            <th>화</th>
                            <th>수</th>
                            <th>목</th>
                            <th>금</th>
                            <th>토</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="time-selection">
                <h4>시간 선택</h4>
                <ul id="time-slots"></ul>
                <button class="appointment_btn">예약하기</button>
            </div>
        </div>
    </li>
</ul>

</section>

<footer id="footer"></footer>
    </div>
<script>
    /*--- 서비스 선택지 3개 영역 ---*/
  $(document).ready(function () {
    $('#offline-shop-list').on('change', function () {
      $('.appointment_select-container').addClass('show');
    });

    $('.appointment_choice').on('click', function () {
      $('.appointment_choice').removeClass('selected dimmed');
      $(this).addClass('selected');
      $('.appointment_choice').not(this).addClass('dimmed');
      $('#calendar-wrapper').addClass('active');
    });
  });

    /*--- 달력 영역 ---*/
$(document).ready(function () {
  const $currentMonthSpan = $('#current-month');
  const $calendarBody = $('#calendar tbody');
  const $timeSelection = $('#time-selection');
  const $timeSlots = $('#time-slots');
  let currentDate = new Date();

  function renderCalendar() {
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();
    const today = new Date();

    $currentMonthSpan.text(`${year}년 ${month + 1}월`);
    $calendarBody.empty();

    const firstDay = new Date(year, month, 1).getDay();
    const lastDay = new Date(year, month + 1, 0).getDate();

    let dayCount = 1;
    for (let i = 0; i < 6; i++) {
      const $row = $('<tr>');

      for (let j = 0; j < 7; j++) {
        const $cell = $('<td>');

        if ((i === 0 && j < firstDay) || dayCount > lastDay) {
          $cell.text('');
        } else {
          const date = new Date(year, month, dayCount);
          $cell.text(dayCount);

          if (date < new Date(today.setHours(0, 0, 0, 0))) {
            $cell.addClass('disabled');
          } else {
            $cell.on('click', function () {
              selectDate($(this), date);
            });
          }

          dayCount++;
        }

        $row.append($cell);
      }

      $calendarBody.append($row);
    }
  }

  function selectDate($cell, date) {
    $('#calendar td.selected').removeClass('selected');
    $cell.addClass('selected');
    renderTimeSlots(date);
  }

  function renderTimeSlots(date) {
    $timeSelection.addClass('active');
    $timeSlots.empty();

    const hours = ['09:00', '10:00', '11:00', '13:00', '14:00', '15:00', '16:00', '17:00'];

    $.each(hours, function (i, hour) {
      const $li = $('<li>').text(hour);
      $li.on('click', function () {
        $('.appointment_btn').css('cursor', 'pointer');
          $('#time-slots > li').removeClass('selected');
          $(this).addClass('selected');
      });
      $timeSlots.append($li);
    });
  }

  $('#prev-month').on('click', function () {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar();
  });

  $('#next-month').on('click', function () {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar();
  });
//alert(`${date.toLocaleDateString()} ${hour} 예약이 완료되었습니다.`);
  renderCalendar();
    /*-------------- 알림 ---------------*/
    $('.appointment_btn').on('click', function () {
  const selectedShop = $('#offline-shop-list option:selected').text();
  const selectedDate = $('#calendar td.selected').text();
  const selectedMonthYear = $('#current-month').text(); // ex: 2025년 5월
  const selectedTime = $('#time-slots li.selected').text();

  // 유효성 체크
  if (!selectedShop || !selectedDate || !selectedTime) {
    alert("매장, 날짜, 시간 모두 선택해 주세요.");
    return;
  }

  const fullDate = `${selectedMonthYear} ${selectedDate}일`;
  const message = `
    <div class="alert-message active">
      <p><strong>예약이 완료되었습니다!</strong></p>
      <p>매장: ${selectedShop}</p>
      <p>날짜: ${fullDate}</p>
      <p>시간: ${selectedTime}</p>
    </div>
  `;

  // 기존 알림 제거
  $('.alert-message').remove();

  // 알림 삽입 및 자동 제거
  const $popup = $(message).appendTo('body');

  setTimeout(() => {
    $popup.fadeOut(300, function () {
      $(this).remove();
    });
  }, 7000);
});
});
</script>
<script src="js/banner_bot.js"></script>
<script src="js/headerFooter.js"></script>
<script src="js/btn_show.js"></script>
<script src="js/auto_href.js"></script>
<!--백업 js-->
<script src="js/backup_1.js"></script>
<script src="js/backup_2.js"></script>
<script src="js/backup_3.js"></script>
</body>
</html>